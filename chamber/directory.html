<!DOCTYPE html>
<html lang="en">
<head>
    <title>Directory - Ghana Chamber of Commerce</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Directory of businesses registered with the Ghana Chamber of Commerce.">
    <meta name="author" content="Benjamin Offor">
    <meta property="og:title" content="Ghana Chamber of Commerce - Directory">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://benjaminoffor.github.io/wdd231/chamber/images/banner.png">
    <meta property="og:url" content="https://benjaminoffor.github.io/wdd231/chamber/directory.html">
    <link rel="stylesheet" href="styles/directory.css">
    <script defer src="scripts/spotlights.js"></script>
    <link rel="icon" href="images/favicon.ico">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="directory.html" class="active">Directory</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="directory-search">
            <h1>Business Directory</h1>
            <p>Explore the various businesses registered with the Ghana Chamber of Commerce.</p>

            <div class="search-container">
                <input type="text" id="search-input" placeholder="Search businesses..." aria-label="Search businesses">
                <button id="search-btn">Search</button>
            </div>

            <div>
                <p>Toggle View:</p>
                <button id="gridViewBtn">Grid View</button>
                <button id="listViewBtn">List View</button>
            </div>                                 
            
            <!-- Date Display for the Latest Member -->
            <div id="dateDisplay"></div>
        </section>

        <section class="directory-listing">
            <h2>Businesses</h2>
            <div class="directory" id="directory">
                <!-- Directory content will be dynamically inserted by JS -->
            </div>
        </section>

        <!-- Spotlight Section -->
        <section class="spotlight">
            <h2>Spotlight Members</h2>
            <div class="spotlight-list" id="spotlight">
                <!-- Spotlight members will be dynamically inserted by JS -->
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; <span id="copyright-year"></span> Ghana Chamber of Commerce. All Rights Reserved.</p>
        <p>Contact us at: info@ghanachamber.org | Phone: +233 24 851 5462</p>
        <p id="last-modified"></p>
    </footer>

    <script>
        // Dynamic Year and Last Modified Date
        document.getElementById("copyright-year").textContent = new Date().getFullYear();
        document.getElementById("last-modified").textContent = `Last updated: ${document.lastModified}`;

        // Search functionality
        document.getElementById("search-btn").addEventListener("click", function() {
            var searchQuery = document.getElementById("search-input").value.toLowerCase();
            var directoryItems = document.querySelectorAll(".directory-item");

            directoryItems.forEach(function(item) {
                var businessName = item.querySelector("h3").textContent.toLowerCase();
                var category = item.querySelector("p").textContent.toLowerCase();
                var location = item.querySelectorAll("p")[1].textContent.toLowerCase();

                if (businessName.includes(searchQuery) || category.includes(searchQuery) || location.includes(searchQuery)) {
                    item.style.display = "block";
                } else {
                    item.style.display = "none";
                }
            });
        });

        // Toggle between grid and list view
        document.getElementById("gridViewBtn").addEventListener("click", function() {
            var directory = document.getElementById("directory");
            directory.classList.add("grid-view");
            directory.classList.remove("list-view");
        });

        document.getElementById("listViewBtn").addEventListener("click", function() {
            var directory = document.getElementById("directory");
            directory.classList.add("list-view");
            directory.classList.remove("grid-view");
        });
    </script>
</body>
</html>
